// Type - new

 type[ new @x,@y,@z in { { @x!(y) : for( @y <! @z ){ @y!(Nil) } , x : y , for( @z <= @Nil ){ Nil } : z } } ]

/*
  Output:
  type[ "new" ;; type[ "names" ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; x ] ;; type[ #truncate ] ] ;; type[ "names" ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; y ] ;; type[ #truncate ] ] ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; z ] ;; type[ #truncate ] ] ] ] ;; type[ "map" ;; type[ "kvpair" ;; type[ "send" ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; x ] ;; type[ #truncate ] ] ;; type[ "tuple" ;; type[ "leaf" ;; "procvar" ;; y ] ;; type[ #truncate ] ] ] ;; type[ "receive" ;; type[ "peek" ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; y ] ;; type[ #truncate ] ] ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; z ] ;; type[ #truncate ] ] ] ;; type[ "send" ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; y ] ;; type[ #truncate ] ] ;; type[ "tuple" ;; type[ "leaf" ;; "nil" ;; "Nil" ] ;; type[ #truncate ] ] ] ] ] ;; type[ "kvpairs" ;; type[ "kvpair" ;; type[ "leaf" ;; "procvar" ;; x ] ;; type[ "leaf" ;; "procvar" ;; y ] ] ;; type[ "kvpair" ;; type[ "receive" ;; type[ "pbind" ;; type[ "quote" ;; type[ "leaf" ;; "procvar" ;; z ] ;; type[ #truncate ] ] ;; type[ "quote" ;; type[ "leaf" ;; "nil" ;; "Nil" ] ;; type[ #truncate ] ] ] ;; type[ "leaf" ;; "nil" ;; "Nil" ] ] ;; type[ "leaf" ;; "procvar" ;; z ] ] ] ] ]
*/